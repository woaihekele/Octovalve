# Octovalve local-proxy config example.
#
# Usage:
# 1) Copy this file to ~/.octovalve/local-proxy-config.toml
# 2) Edit targets below.
# 3) Restart the Octovalve app.
#
# Notes:
# - This config defines SSH targets used by the local console executor.
# - Prefer SSH key authentication; use ssh_password only if necessary.
# - broker_config_path lets the console sidecar load a custom rules config file.
#   Supports absolute paths, "~", or paths relative to this file.

# Optional rules config path override.
# broker_config_path = "~/.octovalve/remote-broker-config.toml"

# Default target name used when no target is specified explicitly.
default_target = "example"

[defaults]
# Command timeout in milliseconds.
timeout_ms = 30000
# Maximum bytes returned for stdout/stderr.
max_output_bytes = 1048576
# Extra SSH options applied to every target.
ssh_args = ["-o", "ServerAliveInterval=30", "-o", "ServerAliveCountMax=3"]
# Optional SSH password (prefer key-based auth).
# ssh_password = "password"
# Optional locale injected into the remote shell.
# terminal_locale = "zh_CN.UTF-8"

[[targets]]
# Unique target name used in the UI and CLI.
name = "example"
# Description shown in the UI.
desc = "Example target (replace with your machine)"
# SSH user and host (required).
ssh = "user@host"
# Execute in PTY mode (merges stdout/stderr).
# tty = true
# Optional per-target overrides.
# ssh_args = ["-i", "/path/to/key"]
# ssh_password = "password"
# terminal_locale = "en_US.UTF-8"
